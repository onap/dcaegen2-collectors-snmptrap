{
        "self": {
        	"version": "1.0.0",
		"name": "snmptrap-collector",
                "description": "Collector for receiving SNMP traps and publishing to DMAAP/MR",
                "component_type": "docker"
        },
        "streams": {
                "subscribes": [

                ],
                "publishes": [
                        {
                                "format": "snmptrap_output",
                                "version": "1.0.0",
                                "type": "message router",
                                "config_key": "snmp_trap"
                        }
                ]
        },
        "services": {
                "calls": [],
                "provides": [
                        {
                                "route": "/eventListener/v1",
                                "verb": "POST",
                                "request": {
                                        "format": "VES_specification",
                                        "version": "4.27.2"
                                },
                                "response": {
                                        "format": "ves.coll.response",
                                        "version": "1.0.0"
                                }
                        },
                        {
                                "route": "/eventListener/v2",
                                "verb": "POST",
                                "request": {
                                        "format": "VES_specification",
                                        "version": "4.27.2"
                                },
                                "response": {
                                        "format": "ves.coll.response",
                                        "version": "1.0.0"
                                }
                        },
                        {
                                "route": "/eventListener/v3",
                                "verb": "POST",
                                "request": {
                                        "format": "VES_specification",
                                        "version": "4.27.2"
                                },
                                "response": {
                                        "format": "ves.coll.response",
                                        "version": "1.0.0"
                                }
                        },
                        {
                                "route": "/eventListener/v4",
                                "verb": "POST",
                                "request": {
                                        "format": "VES_specification",
                                        "version": "4.27.2"
                                },
                                "response": {
                                        "format": "ves.coll.response",
                                        "version": "1.0.0"
                                }
                        },
                        {
                                "route": "/eventListener/v5",
                                "verb": "POST",
                                "request": {
                                        "format": "VES_specification",
                                        "version": "5.28.4"
                                },
                                "response": {
                                        "format": "ves.coll.response",
                                        "version": "1.0.0"
                                }
                        }

                ]
        },
        "parameters": [
                {
                        "name": "collector.service.port",
                        "value": -1,
                        "description": "standard http port"
                },
                {
                        "name": "collector.service.secure.port",
                        "value": 8443,
                        "description": "secure port "
                },
                {
                        "name": "collector.keystore.file.location",
                        "value": "/opt/app/dcae-certificate/keystore.jks",
                        "description": "fs location of keystore in vm"
                },
                {
                        "name": "collector.keystore.passwordfile",
                        "value": "/opt/app/dcae-certificate/.password",
                        "description": "location of keystore password file in vm"
                },
                {
                        "name": "collector.keystore.alias",
                        "value": "dynamically generated",
                        "description": "alias to access the keystore"
                },
                {
                        "name": "collector.inputQueue.maxPending",
                        "value": 8096,
                        "description": "Maximum queue limit before publish"
                },
                {
                        "name": "collector.dmaap.streamid",
                        "value": "fault=ves_fault,ves_fault_secondary|syslog=ves_syslog,ves_syslog_secondary|heartbeat=ves_heartbeat,ves_heartbeat_secondary|measurementsForVfScaling=ves_measurement,ves_measurement_secondary|mobileFlow=ves_mobileflow,ves_mobileflow_secondary|other=ves_other,ves_other_secondary|stateChange=ves_statechange,ves_statechange_secondary|thresholdCrossingAlert=ves_thresholdCrossingAlert,ves_thresholdCrossingAlert_secondary|voiceQuality=ves_voicequality,ves_voicequality_secondary|sipSignaling=ves_sipsignaling,ves_sipsignaling_secondary",
                        "description": "domain-streamid mapping"
                },
                {
                        "name": "header.authflag",
                        "value": 1,
                        "description": "Basic Authentication flag"
                },
                {
                        "name": "header.authlist",
                        "value": "userid1,base64encodepwd1|userid2,base64encodepwd2",
                        "description": "List of id and base64 encoded pwd"
                },
                {
                        "name": "collector.schema.checkflag",
                        "value": 1,
                        "description": "Schema check validation flag"
                },
                {
                        "name": "collector.schema.file",
                        "value": "{\"v1\":\"./etc/CommonEventFormat_27.2.json\",\"v2\":\"./etc/CommonEventFormat_27.2.json\",\"v3\":\"./etc/CommonEventFormat_27.2.json\",\"v4\":\"./etc/CommonEventFormat_27.2.json\",\"v5\":\"./etc/CommonEventFormat_28.4.json\"}",
                        "description": "validation schema file name per version"
                },
                {
                        "name": "event.transform.flag",
                        "value": 1,
                        "description": "flag to enable tranformation rules defined under eventTransform.json"
                },
                {
                        "name": "tomcat.maxthreads",
                        "value": "200",
                        "description": "Tomcat control for concurrent request"
                }
        ],
        "auxilary": {
                "healthcheck": {
                        "type": "http",
                        "interval": "15s",
                        "timeout": "1s",
                        "endpoint": "/healthcheck"
                },
			    "ports": [
			      "8443:8443"
			    ]                
        },
        "artifacts": [
                {
                        "type": "docker image",
                        "uri": "dockercentral.it.att.com:5100/com.att.dcae.controller/dcae-controller-ves-collector:17.10-025"
                }
        ]
}

