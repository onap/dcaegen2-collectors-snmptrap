# content of: tox.ini , put in same dir as setup.py
[tox]
envlist = py36

[testenv]
deps=
    -rrequirements.txt
    pytest
    coverage
    pytest-cov
setenv =
    PYTHONPATH={toxinidir}/snmptrap:{toxinidir}/snmptrap/mod:{toxinidir}/tests
    CBS_SIM_JSON={toxinidir}/etc/snmptrapd.json
recreate = True
commands=
    mkdir -p /tmp/opt/app/snmptrap/logs/
    mkdir -p /tmp/opt/app/snmptrap/tmp/
    pytest --cov snmptrap --cov-report=xml --cov-report=term tests --verbose
whitelist_externals = mkdir
